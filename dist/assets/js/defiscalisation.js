function buildDeduction(t,e,i){return[{"amount-left-bottom":t.lb,"amount-center":t.c,"amount-right-top":t.rt},{"amount-left-bottom":e.lb,"amount-center":e.c,"amount-right-top":e.rt},{"amount-left-bottom":i.lb,"amount-center":i.c,"amount-right-top":i.rt}]}$(document).ready((function(){function t(t){var e=$(t),i=$(window).scrollTop(),n=i+$(window).height(),r=Math.round(e.offset().top),o=r+e.height();return r<n&&o>i}$('.defiscalisation [data-toggle="tooltip"]').tooltip(),$($(".don-type-item").first().data("target")).show();let e=!1,i=75;let n=!1;function r(){$(".circle-left .circle-wrapper").fadeIn(700,(function(){$(".circle-middle .circle-wrapper").fadeIn(700,(function(){$(".circle-right .circle-wrapper").fadeIn(700,(function(){}))}))}))}0==n&&t(".circles")&&(r(),n=!0),$(window).scroll((function(){0==n&&t(".circles")&&r()}));const o={"#don-type-ifi":{data:buildDeduction({c:"1 000€",lb:"750€",rt:"250€"},{c:"5 000€",lb:"750€",rt:"1 000€"},{c:"10 000€",lb:"7 500€",rt:"2 500€"}),image:"url(../assets/img/circle-ifi.pn)g"},"#don-type-ir":{data:buildDeduction({c:"150€",lb:"99€",rt:"51€"},{c:"500€",lb:"330€",rt:"170€"},{c:"1 000€",lb:"660€",rt:"340€"}),image:"url(../assets/img/circle-ir.png)"},"#don-type-is":{data:buildDeduction({c:"10 000€",lb:"6 000€",rt:"4 000€"},{c:"20 000€",lb:"12 000€",rt:"8 000€"},{c:"30 000€",lb:"18 000€",rt:"12 000€"}),image:"url(../assets/img/circle-is.png)"}};function c(t){return t%1==0}function a(t,e,i){$(t).find(".circle-background").css("background-image",i),$(t).find(".amount-left-bottom").text(e["amount-left-bottom"]),$(t).find(".amount-center").text(e["amount-center"]),$(t).find(".amount-right-top").text(e["amount-right-top"])}$(".don-type-item").on("click",(function(){if(!0===e)return;e=!0,$(this).siblings(".don-type-item").removeClass("active"),$(this).addClass("active"),$(this).tooltip("show"),$(this).siblings(".don-type-item").tooltip("hide");const t=$(this).data("target"),n=$(".don-type-content.active");n.removeClass("active"),$(t).addClass("active"),n.fadeOut(400,"swing",(function(){$(t).fadeIn(400,"swing",(function(){e=!1}))}));let r="";switch(t){case"#don-type-ifi":r="IFI",i=75;break;case"#don-type-ir":r="IR",i=66;break;case"#don-type-is":r="IS",i=60}if($("#deduction-type-text").text(r),!o[t])return;!function(t,e){if(!1===Array.isArray(t)||3!==t.length)return;a(".circle-left",t[0],e),a(".circle-middle",t[1],e),$(".circle-right").find(".circle-background").css("background-image",e),$(".circle-right").find(".free-amount").val(t[2]["amount-center"]).trigger("input")}(o[t].data,o[t].image)})),$(".free-amount").on("input",(function(){const t=$(this).val().trim();if(!t||t.length>14)return;let e=null;if("€"===t.charAt(t.length-1)){if(e=t.substr(0,t.length-1).replace(" ",""),isNaN(e))return}else if(e=t.replace(" ",""),isNaN(e))return;e=parseInt(e);let n=parseFloat(e*i/100);n>5e4&&(n=5e4);const r=e-n;isNaN(r)||isNaN(n)||(c(n)?$(".circle-right .amount-left-bottom").text(n+"€"):$(".circle-right .amount-left-bottom").text(n.toFixed(2)+"€"),c(r)?$(".circle-right .amount-right-top").text(r+"€"):$(".circle-right .amount-right-top").text(r.toFixed(2)+"€"))}))}));